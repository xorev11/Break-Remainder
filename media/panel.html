<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="utf-8" />
<meta http-equiv="Content-Security-Policy" content="default-src 'none'; script-src 'unsafe-inline' 'unsafe-eval'; style-src 'unsafe-inline'">
<title>Break Reminder</title>
<style>
  body { font-family: 'Segoe UI', sans-serif; background:#1e1e1e; color:#fff; padding:20px; text-align:center; }
  h2 { margin-bottom:12px; }
  select { padding:8px 12px; border-radius:8px; border:none; background:#333; color:#fff; margin-bottom:12px; }
  .row { display:flex; gap:10px; justify-content:center; flex-wrap:wrap; margin-top:12px; }
  button { padding:12px 18px; border-radius:10px; border:none; cursor:pointer; font-size:15px; }
  .primary { background:#0e639c; color:#fff; }
  .snooze { background:#ffb100; color:#111; }
  .skip { background:#666; color:#fff; }
  .disable { background:#b22222; color:#fff; }
</style>
</head>
<body>
  <h2>⏰ Время сделать перерыв!</h2>

  <div>
    <label for="workTime">Выбери рабочее время:</label><br/>
    <select id="workTime">
      <option value="0.1666">10 секунд (тест)</option>
      <option value="1">1 минута</option>
      <option value="5">5 минут</option>
      <option value="10">10 минут</option>
      <option value="15">15 минут</option>
      <option value="20">20 минут</option>
      <option value="30">30 минут</option>
      <option value="45">45 минут</option>
      <option value="60">1 час</option>
    </select>
  </div>

  <div class="row">
    <button class="primary" id="start">Начать перерыв</button>
    <button class="skip" id="skip">Пропустить перерыв</button>
    <button class="snooze" id="snooze">Отложить перерыв</button>
    <button class="disable" id="disable">Выключить плагин</button>
  </div>

<script>
  const vscode = acquireVsCodeApi();
  document.getElementById('start').addEventListener('click', ()=> vscode.postMessage({command:'startBreak'}));
  document.getElementById('skip').addEventListener('click', ()=> vscode.postMessage({command:'skipBreak'}));
  document.getElementById('snooze').addEventListener('click', ()=> vscode.postMessage({command:'snoozeBreak'}));
  document.getElementById('disable').addEventListener('click', ()=> vscode.postMessage({command:'disablePlugin'}));

  document.getElementById('workTime').addEventListener('change', (e)=>{
    const v = e.target.value;
    vscode.postMessage({ command: 'setWorkTime', value: v });
  });
</script>
</body>
</html>
